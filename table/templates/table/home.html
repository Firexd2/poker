{% extends 'core/base.html' %}
{% load staticfiles %}
{% load custom_tags %}
{% block static %}
    <script type="text/javascript" src="{% static 'core/js/jquery.easing.1.3.js' %}"></script>
    <script type="text/javascript" src="{% static 'core/js/tms-0.3.js' %}"></script>
    <script type="text/javascript" src="{% static 'core/js/tms_presets.js' %}"></script>
    <script type="text/javascript" src="{% static 'core/js/jcarousellite.js' %}"></script>
    <script type="text/javascript" src="{% static 'core/js/script.js' %}"></script>
{% endblock %}
{% block content %}
    <div class="body3">
        <div class="main-template">
            <!-- content -->
            <article id="content-template">
                {#                <div class="wrapper">#}
                {#                    <section class="cols">#}
                {#                        <h3><span class="dropcap">A</span>Business<span>planning</span></h3>#}
                {#                        <p class="pad_bot1">Progress is one of <a#}
                {#                                href="http://blog.templatemonster.com/free-website-templates/" target="_blank">free#}
                {#                            website templates</a> created by TemplateMonster.com, optimized for 1024x768 res.</p>#}
                {#                        <a href="#" class="link1">Read More</a>#}
                {#                    </section>#}
                {#                    <section class="cols pad_left1">#}
                {#                        <h3><span class="dropcap">B</span>Business<span>strategies</span></h3>#}
                {#                        <p class="pad_bot1">This <a#}
                {#                                href="http://blog.templatemonster.com/2011/07/11/free-website-template-slider-typography/"#}
                {#                                target="_blank" rel="nofollow">Progress Template</a> goes with two packages – with PSD#}
                {#                            source files and without them.</p>#}
                {#                        <a href="#" class="link1">Read More</a>#}
                {#                    </section>#}
                {#                    <section class="cols pad_left1">#}
                {#                        <h3><span class="dropcap">C</span>Powerful<span>analytics</span></h3>#}
                {#                        <p class="pad_bot1">PSD source files are available for free for registered members. The basic#}
                {#                            package is available for anyone.</p>#}
                {#                        <a href="#" class="link1">Read More</a>#}
                {#                    </section>#}
                {#                    <section class="cols pad_left1">#}
                {#                        <h3><span class="dropcap">D</span>Worldwide<span>solutions</span></h3>#}
                {#                        <p class="pad_bot1">This website template has several pages: Home, News, Services, Products,#}
                {#                            Contacts (contact form doesn’t work).</p>#}
                {#                        <a href="#" class="link1">Read More</a>#}
                {#                    </section>#}
                {#                </div>#}
                <hr style="border-top: 1px solid white; ">
                <div class="wrapper">
                    <section style="padding-top: 5px" class="col1">
                        <div style="padding-bottom: 5px; float: left" class="btn-group btn-group-toggle"
                             data-toggle="buttons">
                            {% for table in tables %}
                                <a style="text-decoration: none" href="?table={{ table.name_url }}"
                                   class="btn btn-outline-dark btn-sm type-game {% if request.GET.table == table.name_url or not request.GET.table and forloop.counter0 == 0 %}active{% endif %}">{{ table.name }}</a>
                            {% endfor %}
                        </div>
                        <div style="padding-bottom: 5px; float: right" class="btn-group btn-group-toggle"
                             data-toggle="buttons">
                            <label class="btn btn-outline-dark btn-sm active">
                                <input type="radio" name="options" id="Subscription" class="type-package"
                                       autocomplete="off" checked>
                                Subscription
                            </label>
                            <label class="btn btn-outline-dark btn-sm">
                                <input type="radio" name="options" id="Package" class="type-package" autocomplete="off">
                                Package
                            </label>
                        </div>
                        <table class="table table-striped table-border table-hover">
                            <thead class="">
                            <tr>
                                <th scope="col">Limits</th>
                                {% for site in sites %}
                                    {% if site.is_enabled %}
                                        <th style="text-align: center" scope="col">{{ site.name }}</th>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                            </thead>
                            <tbody>
                            {% for limit in limits %}
                                <tr>
                                    <th scope="row">{{ limit.name }}</th>
                                    {% for item in limit.items.all|is_enabled_site|sort_by:'site__priority' %}
                                        <td style="padding: 0 .75rem 0 .75rem" align="center">
                                            {% if item.is_enabled %}
                                                <label style="width: 100%; height: 100%; padding: 0.75rem 0 0.75rem 0">
                                                    <input class="limits-item"
                                                           id="{{ item.site.name }}:{{ limit.name }}:{{ item.id }}"
                                                           type="checkbox">
                                                </label>
                                            {% endif %}
                                        </td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                        <table class="table table-border table-size">
                            <thead>
                            <tr>
                                <th>Tables sizes:</th>
                                <th class="table-size-th">
                                    <label>
                                        <input class="tables-sizes" type="checkbox">
                                        Heads up
                                    </label>
                                    <label>
                                        <input class="tables-sizes" type="checkbox">
                                        6-Max
                                    </label>
                                    <label>
                                        <input class="tables-sizes" type="checkbox">
                                        Fullring
                                    </label>
                                </th>
                            </tr>
                            </thead>
                        </table>

                        <table id="term">
                            <thead>
                            <tr>
                                <th style="width: 280px; padding-right: 20px" class="term-item">
                                    <table class="table table-border table-slide">
                                        <thead>
                                        <tr>
                                            <th>
                                                Start subscription:
                                            </th>
                                            <th style="text-align: right; font-weight: normal;">
                                                <input style="padding: 0 3px 0 7px; font-size: 14px; width: 110px"
                                                       class="form-control" type="date" value="2011-08-19"
                                                       id="start_subscription">
                                            </th>
                                        </tr>
                                        </thead>
                                    </table>
                                </th>
                                <th class="term-item">
                                    <table class="table table-border table-slide">
                                        <thead>
                                        <tr>
                                            <th>
                                                Term:
                                            </th>
                                            <th style="text-align: right; font-weight: normal">
                                                <form class="form-inline justify-content-end">
                                                    <div class="form-group mb-2">
                                                        <input id="ex6" type="text" data-slider-min="1"
                                                               data-slider-max="360"
                                                               data-slider-step="15" data-slider-value="1"/>
                                                    </div>

                                                    <div style="width: 108px; height: 25px; padding-left: 30px"
                                                         class="input-group mb-3">
                                                        <input type="text" class="form-control input-sm" value="1"
                                                               style="padding: 0 3px 0 10px; font-size: 15px"
                                                               id="ex6SliderVal">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" id="basic-addon2">days</span>
                                                        </div>
                                                    </div>
                                                </form>
                                            </th>
                                        </tr>
                                        </thead>
                                    </table>
                                </th>
                            </tr>
                            </thead>
                        </table>

                        <table style="display: none" id="hands" class="table table-border table-slide">
                            <thead>
                            <tr>
                                <th>
                                    Numbers of hands:
                                </th>
                                <th style="text-align: right; font-weight: normal">
                                    <form class="form-inline justify-content-end">
                                        <div class="form-group mb-2">
                                            <input id="ex7" type="text" data-slider-min="100" data-slider-max="10000"
                                                   data-slider-step="100" data-slider-value="100"/>
                                        </div>

                                        <div style="width: 108px; height: 25px; padding-left: 30px"
                                             class="input-group mb-3">
                                            <input disabled type="text" class="form-control input-sm" value="100"
                                                   style="padding: 0 3px 0 10px; font-size: 15px" id="ex7SliderVal">
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">ths</span>
                                            </div>
                                        </div>
                                    </form>
                                </th>
                            </tr>
                            </thead>
                        </table>
                    </section>
                    <section class="col2 pad_left3">
                        <div class="cart">
                            <div class="cart-tittle">Cart content</div>
                            <table class="table cart-items">
                                <tbody>
                                {% if request.session.cart_items %}
                                    {% for item in request.session.cart_items %}
                                        <tr>
                                            <th style="">
                                                <b>{{ item.type_package }}</b>:
                                                {% if item.type_package == 'Subscription' %}
                                                    {{ item.term }} days from {{ item.start_date }};
                                                {% else %}
                                                    {{ item.count_hands }};
                                                {% endif %}
                                                <br>
                                                <b>{{ item.type_game }}</b>:
                                                {{ item.tables }};
                                                <br>
                                                {% for site_name, limits in item.limits_item.items %}
                                                    <b>{{ site_name }}</b>
                                                    ({{ limits }})
                                                    <br>
                                                {% endfor %}
                                                <br>
                                                <div style="float: left; font-size: 15px; margin-top: 2px">
                                                    Price: <b>{{ item.price }}</b> $
                                                </div>
                                                <div style="float: right; font-size: 15px; font-weight: bold">
                                                    <button style="float: right; margin: 0; opacity: 0.5" type="button"
                                                            class="btn btn-outline-dark btn-sm-cart">
                                                        delete
                                                    </button>
                                                </div>
                                            </th>
                                        </tr>
                                    {% endfor %}
                                {% else %}
                                    <div style="text-align: center; margin-top: 20px">Cart is empty</div>
                                {% endif %}
                                </tbody>
                            </table>
                            <div class="cart-footer">
                                <div {% if not request.session.cart_items %}hidden{% endif %} class="cart-total">
                                    Total: <span>{{ request.session.total }}</span> $
                                </div>
                                <div class="cart-submit">
                                    <button style="float: right" type="button"
                                            class="btn btn-success btn-sm-cart {% if not request.session.cart_items %}disabled{% endif %}">
                                        Checkout
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 20px;background-color: rgba(75,201,249,0.3);display: none"
                             id="block-info" class="cart">
                            <div class="precart-tittle">Add to cart</div>
                            <table class="table precart-items">
                                <tbody class="tbody-precart-items">
                                </tbody>
                            </table>
                            <div class="precart-footer">
                                <div class="cart-total">
                                    Total: <span>0.00</span> $
                                </div>
                                <div class="cart-submit">
                                    <button style="float: right" type="button" id="add-to-cart"
                                            class="btn btn-outline-success btn-sm-cart">
                                        Add to cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </article>
        </div>
    </div>
    {% csrf_token %}
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="{% static 'core/js/table.js' %}"></script>
{% endblock %}
